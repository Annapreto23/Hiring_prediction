<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hiring Prediction Form</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <style>
        .error-message {
            color: red;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Hiring Prediction Form</h1>
        <form id="form" action="/predict" method="post">
            <div class="question active" id="question1">
                <h2>Enter your age</h2>
                <p>The value should be between 20 and 50 years.</p>
                <input type="number" id="Age" name="Age" min="20" max="50" required oninput="validateAge()">
                <div id="error-age" class="error-message"></div>
                <button type="button" onclick="nextQuestion(2)">Next</button>
            </div>
            <div class="question" id="question2">
                <h2>Gender</h2>
                <p>Select your gender.</p>
                <select id="Gender" name="Gender" required>
                    <option value="0">Male</option>
                    <option value="1">Female</option>
                </select>
                <button type="button" onclick="nextQuestion(3)">Next</button>
            </div>
            <div class="question" id="question3">
                <h2>Education Level</h2>
                <p>Select your education level.</p>
                <select id="EducationLevel" name="EducationLevel" required>
                    <option value="1">Bachelor's (Type 1)</option>
                    <option value="2">Bachelor's (Type 2)</option>
                    <option value="3">Master's</option>
                    <option value="4">PhD</option>
                </select>
                <button type="button" onclick="nextQuestion(4)">Next</button>
            </div>
            <div class="question" id="question4">
                <h2>Experience Years</h2>
                <p>Enter the number of years of professional experience. The value should be between 0 and 15 years.</p>
                <input type="number" id="ExperienceYears" name="ExperienceYears" min="0" max="15" required oninput="validateExperienceYears()">
                <div id="error-experience-years" class="error-message"></div>
                <button type="button" onclick="nextQuestion(5)">Next</button>
            </div>
            <div class="question" id="question5">
                <h2>Previous Companies Worked</h2>
                <p>Enter the number of previous companies where you have worked. The value should be between 1 and 5 companies.</p>
                <input type="number" id="PreviousCompanies" name="PreviousCompanies" min="1" max="5" required oninput="validatePreviousCompanies()">
                <div id="error-previous-companies" class="error-message"></div>
                <button type="button" onclick="nextQuestion(6)">Next</button>
            </div>
            <div class="question" id="question6">
                <h2>Distance From Company</h2>
                <p>Enter the distance in kilometers from your residence to the company. The value should be between 1 and 50 kilometers.</p>
                <input type="number" step="0.1" id="DistanceFromCompany" name="DistanceFromCompany" min="1" max="50" required oninput="validateDistanceFromCompany()">
                <div id="error-distance-from-company" class="error-message"></div>
                <button type="button" onclick="nextQuestion(7)">Next</button>
            </div>
            <div class="question" id="question7">
                <h2>Interview Score</h2>
                <p>Enter the score you achieved in the interview process (based on your impression). The value should be between 0 and 100.</p>
                <input type="number" id="InterviewScore" name="InterviewScore" min="0" max="100" required oninput="validateInterviewScore()">
                <div id="error-interview-score" class="error-message"></div>
                <button type="button" onclick="nextQuestion(8)">Next</button>
            </div>
            <div class="question" id="question8">
                <h2>Skill Score</h2>
                <p>Enter your assessment score of technical skills (based on the position requirements). The value should be between 0 and 100.</p>
                <input type="number" id="SkillScore" name="SkillScore" min="0" max="100" required oninput="validateSkillScore()">
                <div id="error-skill-score" class="error-message"></div>
                <button type="button" onclick="nextQuestion(9)">Next</button>
            </div>
            <div class="question" id="question9">
                <h2>Personality Score</h2>
                <p>Enter your evaluation score of personality traits relevant to the company. The value should be between 0 and 100.</p>
                <input type="number" id="PersonalityScore" name="PersonalityScore" min="0" max="100" required oninput="validatePersonalityScore()">
                <div id="error-personality-score" class="error-message"></div>
                <button type="button" onclick="nextQuestion(10)">Next</button>
            </div>
            <div class="question" id="question10">
                <h2>Recruitment Strategy</h2>
                <p>Select your recruitment strategy.</p>
                <select id="RecruitmentStrategy" name="RecruitmentStrategy" required>
                    <option value="1">Aggressive</option>
                    <option value="2">Moderate</option>
                    <option value="3">Conservative</option>
                </select>
                <button type="button" onclick="nextQuestion('submit')">Next</button>
            </div>
            <div class="question" id="submit" style="display:none;">
                <input type="submit" value="Predict">
            </div>
        </form>
    </div>
    <script>
        function validateAge() {
            var age = document.getElementById('Age').value;
            var error = document.getElementById('error-age');
            if (age < 20 || age > 50) {
                error.textContent = 'Age must be between 20 and 50 years.';
                return false;
            } else {
                error.textContent = '';
                return true;
            }
        }

        function validateExperienceYears() {
            var experienceYears = document.getElementById('ExperienceYears').value;
            var error = document.getElementById('error-experience-years');
            if (experienceYears < 0 || experienceYears > 15) {
                error.textContent = 'Experience years must be between 0 and 15 years.';
                return false;
            } else {
                error.textContent = '';
                return true;
            }
        }

        function validatePreviousCompanies() {
            var previousCompanies = document.getElementById('PreviousCompanies').value;
            var error = document.getElementById('error-previous-companies');
            if (previousCompanies < 1 || previousCompanies > 5) {
                error.textContent = 'Previous companies must be between 1 and 5.';
                return false;
            } else {
                error.textContent = '';
                return true;
            }
        }

        function validateDistanceFromCompany() {
            var distance = document.getElementById('DistanceFromCompany').value;
            var error = document.getElementById('error-distance-from-company');
            if (distance < 1 || distance > 50) {
                error.textContent = 'Distance must be between 1 and 50 kilometers.';
                return false;
            } else {
                error.textContent = '';
                return true;
            }
        }

        function validateInterviewScore() {
            var score = document.getElementById('InterviewScore').value;
            var error = document.getElementById('error-interview-score');
            if (score < 0 || score > 100) {
                error.textContent = 'Interview score must be between 0 and 100.';
                return false;
            } else {
                error.textContent = '';
                return true;
            }
        }

        function validateSkillScore() {
            var score = document.getElementById('SkillScore').value;
            var error = document.getElementById('error-skill-score');
            if (score < 0 || score > 100) {
                error.textContent = 'Skill score must be between 0 and 100.';
                return false;
            } else {
                error.textContent = '';
                return true;
            }
        }

        function validatePersonalityScore() {
            var score = document.getElementById('PersonalityScore').value;
            var error = document.getElementById('error-personality-score');
            if (score < 0 || score > 100) {
                error.textContent = 'Personality score must be between 0 and 100.';
                return false;
            } else {
                error.textContent = '';
                return true;
            }
        }

        function nextQuestion(questionNumber) {
            var currentQuestion = document.querySelector('.question.active');
            var isValid = true;


            if (currentQuestion.id === 'question1' && !validateAge()) isValid = false;
            if (currentQuestion.id === 'question4' && !validateExperienceYears()) isValid = false;
            if (currentQuestion.id === 'question5' && !validatePreviousCompanies()) isValid = false;
            if (currentQuestion.id === 'question6' && !validateDistanceFromCompany()) isValid = false;
            if (currentQuestion.id === 'question7' && !validateInterviewScore()) isValid = false;
            if (currentQuestion.id === 'question8' && !validateSkillScore()) isValid = false;
            if (currentQuestion.id === 'question9' && !validatePersonalityScore()) isValid = false;

            if (isValid) {
                currentQuestion.classList.remove('active');
                currentQuestion.style.display = 'none';
                var nextQuestion = document.getElementById('question' + questionNumber);
                if (nextQuestion) {
                    nextQuestion.style.display = 'block';
                    nextQuestion.classList.add('active');
                } else {
                    document.getElementById('submit').style.display = 'block';
                    document.getElementById('submit').classList.add('active');
                }
            }
        }
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                nextQuestion(Number(document.querySelector('.question.active').id.replace('question', '')) + 1);
            }
        });
    </script>
</body>
</html>
